# 可能会出现歧义的案例

[[code
    let a = [[]];
]]

问题不大 因为做line分割的时候只有前后的两个进入结构

---

[[code
[[segment]]
]]

[[code
[[segment
]];
]]

三/四行的双括号均进入结构
这里需要使用第一个遇到的 [[ 来匹配最后一个 ]] 因为不支持嵌套
这里使用的解决方法可以是逐行扫描 遇到 [[ ]] 进栈出栈 直到遇到第一个block_end弹出刚好是空栈的时候结束
其实直接遇到下一个block_end就可以了

---

[[code
content
]]

[[code
content
]]

需要被正确渲染为两个代码块

---

[[code
]]
]]

这种就没办法了 一般来说code里面的内容不会是半开的吧

---

[[code
[[
[[
]]

只看最后